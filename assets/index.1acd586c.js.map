{"version":3,"file":"index.1acd586c.js","sources":["../../vite/modulepreload-polyfill","../../src/localeSettings.ts","../../src/Globals.ts","../../src/fileSystemConfig.ts","../../src/store.ts","../../vite/preload-helper","../../src/router.ts","../../src/components/LoginPanel.vue","../../src/components/LoginPanel.vue?vue&type=template&lang.js","../../src/assets/images/logos/vsp-logo-300dpi.png","../../src/App.vue","../../src/App.vue?vue&type=template&lang.js","../../src/main.ts"],"sourcesContent":["const p = function polyfill() {\n    const relList = document.createElement('link').relList;\n    if (relList && relList.supports && relList.supports('modulepreload')) {\n        return;\n    }\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\n        processPreload(link);\n    }\n    new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type !== 'childList') {\n                continue;\n            }\n            for (const node of mutation.addedNodes) {\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\n                    processPreload(node);\n            }\n        }\n    }).observe(document, { childList: true, subtree: true });\n    function getFetchOpts(script) {\n        const fetchOpts = {};\n        if (script.integrity)\n            fetchOpts.integrity = script.integrity;\n        if (script.referrerpolicy)\n            fetchOpts.referrerPolicy = script.referrerpolicy;\n        if (script.crossorigin === 'use-credentials')\n            fetchOpts.credentials = 'include';\n        else if (script.crossorigin === 'anonymous')\n            fetchOpts.credentials = 'omit';\n        else\n            fetchOpts.credentials = 'same-origin';\n        return fetchOpts;\n    }\n    function processPreload(link) {\n        if (link.ep)\n            // ep marker = processed\n            return;\n        link.ep = true;\n        // prepopulate the load record\n        const fetchOpts = getFetchOpts(link);\n        fetch(link.href, fetchOpts);\n    }\n};__VITE_IS_MODERN__&&p();","// locale: we only support EN and DE\r\nconst locale = localStorage.getItem('locale')\r\n  ? '' + localStorage.getItem('locale')\r\n  : // @ts-ignore\r\n  (navigator.language || navigator.userLanguage).startsWith('de')\r\n  ? 'de'\r\n  : 'en'\r\n\r\nexport default locale\r\n","export const DEFAULT_PROJECTION = ''\r\n\r\nexport const MAP_STYLES_ONLINE = {\r\n  light: 'mapbox://styles/mapbox/light-v10',\r\n  dark: 'mapbox://styles/vsp-tu-berlin/ckek59op0011219pbwfar1rex',\r\n  transparentLight: 'mapbox://styles/vsp-tu-berlin/clgxnk7m500dt01p687w8e693',\r\n  transparentDark: 'mapbox://styles/vsp-tu-berlin/clgwrqa0w00av01pg5jox0a35',\r\n  // light: 'mapbox://styles/mapbox/outdoors-v11',\r\n  // dark: 'mapbox://styles/mapbox/outdoors-v11',\r\n  // dark: 'mapbox://styles/mapbox/light-v10',\r\n}\r\n\r\nexport const MAP_STYLES_OFFLINE = {\r\n  // NO NETWoRK:\r\n  light: { version: 8, layers: [], sources: {} },\r\n  dark: { version: 8, layers: [], sources: {} },\r\n  transparentLight: { version: 8, layers: [], sources: {} },\r\n  transparentDark: { version: 8, layers: [], sources: {} },\r\n}\r\n\r\nexport const BG_COLOR_DASHBOARD = {\r\n  light: '#fff',\r\n  dark: '#181818',\r\n}\r\n\r\nexport const MAPBOX_TOKEN =\r\n  'pk.eyJ1IjoidnNwLXR1LWJlcmxpbiIsImEiOiJjamNpemh1bmEzNmF0MndudHI5aGFmeXpoIn0.u9f04rjFo7ZbWiSceTTXyA'\r\n\r\nexport enum Status {\r\n  INFO,\r\n  WARNING,\r\n  ERROR,\r\n}\r\n\r\nexport enum DataType {\r\n  NUMBER,\r\n  STRING,\r\n  BOOLEAN,\r\n  DATE,\r\n  LOOKUP,\r\n  UNKNOWN,\r\n}\r\n\r\nexport interface DataTable {\r\n  [columnName: string]: DataTableColumn\r\n}\r\n\r\n/**\r\n * DataTableColumn represents one column of a loaded dataset. Numerical data will always be\r\n * stored as a Float32Array, while other data such as strings will be stored as regular\r\n * arrays.\r\n *\r\n * @property type - is one of the DataType enumeration, and is used to decode factors\r\n *\r\n * @property factors - is only populated during construction if the actual values are constrained\r\n * to a small set of choices, in which case the index of the factor is stored in the row data instead\r\n * of the value itself.\r\n */\r\nexport interface DataTableColumn {\r\n  values: Float64Array | Float32Array | any[]\r\n  name: string\r\n  type: DataType\r\n  max?: number\r\n  // factors?: any[] // only present if elements are stored as offset to the factor value here, instead of as the real value\r\n}\r\n\r\n/** LookupDataset bridges CSV data and link data with the join column containing array offsets */\r\nexport interface LookupDataset {\r\n  datasetKey: string\r\n  dataTable: DataTable\r\n  activeColumn: string\r\n  csvRowFromLinkRow: number[]\r\n}\r\n\r\nexport interface CSV {\r\n  header: string[]\r\n  headerMax: number[]\r\n  rows: Float32Array[]\r\n  activeColumn: number\r\n}\r\n\r\nexport type VizLayerConfiguration = {\r\n  datasets: { [id: string]: string }\r\n  display: {\r\n    color: any\r\n    width: any\r\n    fill: any\r\n    fillHeight: any\r\n    lineColor: any\r\n    lineWidth: any\r\n    radius: any\r\n  }\r\n  filters: any\r\n}\r\n\r\nexport type YamlConfigs = {\r\n  dashboards: { [filename: string]: string }\r\n  topsheets: { [filename: string]: string }\r\n  vizes: { [filename: string]: string }\r\n  configs: { [filename: string]: string }\r\n}\r\n\r\nexport const UI_FONT =\r\n  \"'Titillium Web', 'Roboto', 'Open Sans', Avenir, Arial, Helvetica, sans-serif\"\r\n\r\nexport interface FileSystem {\r\n  getDirectory(path: string): Promise<DirectoryEntry>\r\n  getFileText(path: string): Promise<string>\r\n  getFileJson(path: string): Promise<any>\r\n  getFileBlob(path: string): Promise<Blob | null>\r\n  cleanURL(path: string): string\r\n}\r\n\r\nexport interface FileSystemConfig {\r\n  name: string\r\n  name_de?: string\r\n  description: string\r\n  description_de?: string\r\n  baseURL: string\r\n  slug: string\r\n  thumbnail?: string\r\n  needPassword?: boolean\r\n  skipList?: string[]\r\n  dashboardFolder?: string\r\n  hidden?: boolean\r\n  handle?: FileSystemAPIHandle\r\n}\r\n\r\nexport interface VisualizationPlugin {\r\n  component: any\r\n  kebabName: string\r\n  prettyName: string\r\n  description?: string\r\n  filePatterns: string[]\r\n}\r\n\r\nexport interface DirectoryEntry {\r\n  files: string[]\r\n  dirs: string[]\r\n  handles: { [name: string]: FileSystemAPIHandle }\r\n}\r\n\r\nexport enum ColorScheme {\r\n  LightMode = 'light',\r\n  DarkMode = 'dark',\r\n}\r\n\r\nexport interface BreadCrumb {\r\n  label: string\r\n  url?: string\r\n}\r\n\r\nexport interface Warnings {\r\n  msg: string\r\n  desc?: string\r\n}\r\n\r\nexport interface ColorSet {\r\n  text: string\r\n  background: string\r\n  links: string\r\n  susceptible: string\r\n  infectedButNotContagious: string\r\n  contagious: string\r\n  symptomatic: string\r\n  seriouslyIll: string\r\n  critical: string\r\n  recovered: string\r\n}\r\n\r\nexport enum Health {\r\n  Susceptible = 'susceptible',\r\n  InfectedButNotContagious = 'infectedButNotContagious',\r\n  Contagious = 'contagious',\r\n}\r\n\r\nexport interface Agent {\r\n  id: string\r\n  time: number[]\r\n  path: [number, number][]\r\n  dtime: number[]\r\n  d: number[]\r\n}\r\n\r\nexport interface AgentProgessingThroughDisease {\r\n  id: string\r\n  x: number\r\n  y: number\r\n  infectedButNotContagious: number\r\n  contagious: number\r\n  showingSymptoms: number\r\n  seriouslySick: number\r\n  critical: number\r\n  recovered: number\r\n}\r\n\r\nexport interface Infection {\r\n  id: string\r\n  dtime: number[]\r\n  d: number[]\r\n}\r\n\r\nexport interface Trip {\r\n  id: number\r\n  timestamps: number[]\r\n  path?: number[]\r\n  status?: string\r\n}\r\n\r\nexport interface RunYaml {\r\n  city: string\r\n  info: string\r\n  readme: string\r\n  zip: string\r\n  timestamp: string\r\n  // these are for old version\r\n  offset?: number[]\r\n  startDate?: string\r\n  endDate?: string\r\n  // these are for new version\r\n  defaultStartDate?: string\r\n  startDates?: string[]\r\n  // these are for everything\r\n  optionGroups: {\r\n    day?: number\r\n    heading: string\r\n    subheading?: string\r\n    measures: {\r\n      measure: string\r\n      title: string\r\n      order?: string\r\n      options?: number[]\r\n    }[]\r\n  }[]\r\n}\r\n\r\nexport interface FileSystemAPIHandle {\r\n  name: string\r\n  values: any // returns { kind: string; name: string; getFile: any }[]\r\n  getFile: any\r\n  requestPermission: any\r\n}\r\n\r\nexport const LIGHT_MODE: ColorSet = {\r\n  text: '#000',\r\n  background: '#ccccc4',\r\n  links: '#ffffff',\r\n  susceptible: '#999900',\r\n  infectedButNotContagious: '#0077ff',\r\n  contagious: '#bb0044',\r\n  symptomatic: '#ff5533',\r\n  seriouslyIll: '#7733ee',\r\n  critical: '#000',\r\n  recovered: '#116622',\r\n}\r\n\r\nexport const DARK_MODE: ColorSet = {\r\n  text: '#fff',\r\n  background: '#181518',\r\n  links: '#445577',\r\n  susceptible: '#bbbb44',\r\n  infectedButNotContagious: '#00dddd',\r\n  contagious: '#ff2299',\r\n  symptomatic: '#ff5533',\r\n  seriouslyIll: '#7733ee',\r\n  critical: '#fff',\r\n  recovered: '#116622',\r\n}\r\n\r\nexport enum LegendItemType {\r\n  line,\r\n  box,\r\n}\r\n\r\nexport interface LegendItem {\r\n  type: LegendItemType\r\n  color: number[]\r\n  value: any\r\n  label?: string\r\n}\r\n\r\n/**\r\n * This holds handles to React view component callbacks, so we can\r\n * notify them when the global map view state changes.\r\n *\r\n * This is needed because Deck.gl components can either handle their own\r\n * state internally, or use React to manage state externally.\r\n * Since we are a Vue app, this one weird trick allows us to update the\r\n * map state from the outside without rebuilding the whole component,\r\n * which would cause huge performance problems.\r\n *\r\n * NOTE --> Your Vue app needs to manage these handles and REMOVE them\r\n * in beforeDestroy() or else you will have some major memory leaks!\r\n * You have been warned.\r\n */\r\nexport const REACT_VIEW_HANDLES: { [id: number]: any } = {}\r\n","import { get, set, clear } from 'idb-keyval'\r\nimport { FileSystemConfig, FileSystemAPIHandle } from '@/Globals'\r\nimport globalStore from '@/store'\r\n\r\nconst BASE_URL = import.meta.env.BASE_URL\r\n\r\n// The URL contains the websiteLiveHost, calculated at runtime\r\nconst loc = window.location\r\nconst webLiveHostname = loc.hostname\r\nconst websiteLiveHost = `${loc.protocol}//${webLiveHostname}`\r\n\r\nexport function addLocalFilesystem(handle: FileSystemAPIHandle, key: string | null) {\r\n  const slug = key || 'fs' + (1 + Object.keys(globalStore.state.localFileHandles).length)\r\n\r\n  const system: FileSystemConfig = {\r\n    name: handle.name,\r\n    slug: slug,\r\n    description: 'Local folder',\r\n    handle: handle,\r\n    baseURL: '',\r\n  }\r\n\r\n  fileSystems.unshift(system)\r\n\r\n  // commit to app state\r\n  globalStore.commit('addLocalFileSystem', { key: system.slug, handle: handle })\r\n  // console.log(globalStore.state.localFileHandles)\r\n\r\n  // write it out to indexed-db so we have it on next startup\r\n  set('fs', globalStore.state.localFileHandles)\r\n  return system.slug\r\n}\r\n\r\nlet fileSystems: FileSystemConfig[] = [\r\n  {\r\n    name: webLiveHostname + ' live folders',\r\n    slug: 'live',\r\n    description: 'Files served using \"simwrapper here\"',\r\n    baseURL: websiteLiveHost + ':8050/_f_', // e.g. 'http://localhost:8050/_f_',\r\n    hidden: true,\r\n  },\r\n  {\r\n    name: 'Public Data Folder',\r\n    slug: 'files',\r\n    description: 'Data from /public/data folder',\r\n    baseURL: loc.origin + BASE_URL + 'data',\r\n    hidden: false,\r\n  },\r\n\r\n  {\r\n    name: 'Browse data',\r\n    slug: 'view',\r\n    description: \"View this site's datasets\",\r\n    baseURL: loc.origin + '/data',\r\n    hidden: true,\r\n  },\r\n  {\r\n    name: 'local',\r\n    slug: 'local',\r\n    description: 'Files on this computer, shared using \"simwrapper serve\" tool',\r\n    baseURL: 'http://localhost:8000',\r\n    thumbnail: '/simwrapper/images/thumb-localfiles.jpg',\r\n  },\r\n  {\r\n    name: 'SimWrapper Examples',\r\n    slug: 'examples',\r\n    description: 'Pre-built dashboards for exploration',\r\n    thumbnail: 'images/thumb-localfiles.jpg',\r\n    baseURL: 'https://svn.vsp.tu-berlin.de/repos/public-svn/shared/simwrapper',\r\n  },\r\n  {\r\n    name: 'VSP Public Scenarios',\r\n    slug: 'public',\r\n    description: 'Simulation results from VSP at TU-Berlin',\r\n    baseURL: 'https://svn.vsp.tu-berlin.de/repos/public-svn/matsim/scenarios/countries',\r\n    thumbnail: '/simwrapper/images/thumb-chart.jpg',\r\n    skipList: ['episim/battery'],\r\n  },\r\n  {\r\n    name: 'Sample Runs',\r\n    slug: 'sample-runs',\r\n    description: 'Pre-built dashboards for exploration',\r\n    thumbnail: 'images/thumb-localfiles.jpg',\r\n    baseURL: 'https://svn.vsp.tu-berlin.de/repos/public-svn/shared/billy/simwrapper/sample-data',\r\n    hidden: true,\r\n  },\r\n  {\r\n    name: 'KoMoDnext',\r\n    slug: 'komodnext',\r\n    description: 'Automated driving in the digital test field, Düsseldorf',\r\n    description_de: 'Automatisiertes Fahren im digitalen Testfeld Düsseldorf',\r\n    baseURL:\r\n      'https://svn.vsp.tu-berlin.de/repos/public-svn/matsim/scenarios/countries/de/duesseldorf/projects/komodnext/website',\r\n    thumbnail: '/simwrapper/images/thumb-localfiles.jpg',\r\n    hidden: true,\r\n  },\r\n  {\r\n    name: 'SFCTA Prospector',\r\n    slug: 'champ',\r\n    description: 'Shared CHAMP model runs',\r\n    baseURL: 'http://prospector/champ_runs',\r\n    hidden: true,\r\n  },\r\n  {\r\n    name: 'RealLabHH',\r\n    slug: 'reallabhh',\r\n    description: 'digital mobility of tomorrow is being tested in a metropolis here and now',\r\n    description_de: 'Digitale Mobilität von morgen im Hier und Jetzt in einer Metropole',\r\n    baseURL:\r\n      'https://svn.vsp.tu-berlin.de/repos/public-svn/matsim/scenarios/countries/de/hamburg/hamburg-v2/hamburg-v2.2/viz',\r\n    thumbnail: '/simwrapper/images/thumb-localfiles.jpg',\r\n  },\r\n]\r\n\r\nfor (let port = 8000; port < 8049; port++) {\r\n  fileSystems.push({\r\n    name: 'Localhost ' + port,\r\n    slug: `${port}`,\r\n    description: 'Localhost ' + port,\r\n    description_de: 'Localhost ' + port,\r\n    baseURL: 'http://localhost:' + port,\r\n    hidden: true,\r\n  })\r\n}\r\n\r\nfor (let port = 8050; port < 8099; port++) {\r\n  fileSystems.push({\r\n    name: webLiveHostname + port,\r\n    slug: `${port}`,\r\n    description: webLiveHostname + port,\r\n    description_de: webLiveHostname + port,\r\n    baseURL: websiteLiveHost + `:${port}/_f_`, // e.g. 'http://localhost:8050/_f_',\r\n    hidden: true,\r\n  })\r\n}\r\n\r\n// merge user shortcuts\r\ntry {\r\n  const storedShortcuts = localStorage.getItem('projectShortcuts')\r\n  if (storedShortcuts) {\r\n    const shortcuts = JSON.parse(storedShortcuts) as any[]\r\n    const unique = fileSystems.filter(root => !(root.slug in shortcuts))\r\n    fileSystems = [...Object.values(shortcuts), ...unique]\r\n  }\r\n} catch (e) {\r\n  console.error('ERROR MERGING URL SHORTCUTS:', '' + e)\r\n}\r\n\r\nexport default fileSystems\r\n","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\n\r\nVue.use(Vuex)\r\n\r\nimport {\r\n  BreadCrumb,\r\n  Warnings,\r\n  ColorScheme,\r\n  FileSystemConfig,\r\n  Status,\r\n  VisualizationPlugin,\r\n} from '@/Globals'\r\nimport fileSystems from '@/fileSystemConfig'\r\nimport { MAP_STYLES_ONLINE, MAP_STYLES_OFFLINE } from '@/Globals'\r\n\r\n// ----------------------------------------\r\n\r\n// ViewState has tricky logic, to handle cold-start, view-start,\r\n// and interactive motion.\r\n// Booleans to handle the various situations:\r\n// startup: true for the app default (here). views will override this\r\n// initial: set to true for a view's first map request. This will be\r\n//          honored if the app is in startup state, but will be ignored\r\n//          if NOT in startup state, because that means a different view\r\n//          has already set the map and we don't want it to be \"jarring\"\r\n//    jump: Force jump the view to new location no matter what.\r\nconst initialViewState = () => {\r\n  return {\r\n    // Set your startup city long/lat here!\r\n    startup: true,\r\n    longitude: 13.45,\r\n    latitude: 52.5,\r\n    zoom: 7,\r\n    pitch: 0,\r\n    bearing: 0,\r\n    maxZoom: 24,\r\n  }\r\n}\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n    app: 'SimWrapper',\r\n    debug: false,\r\n    authAttempts: 0,\r\n    breadcrumbs: [] as BreadCrumb[],\r\n    credentials: { fake: 'fake' } as { [url: string]: string },\r\n    dashboardWidth: '',\r\n    isFullScreen: false,\r\n    isFullWidth: false,\r\n    isShowingLeftBar: true,\r\n    isDarkMode: true,\r\n    isInitialViewSet: false,\r\n    fileHandleAccessRequests: [] as any[],\r\n    mapStyles: MAP_STYLES_ONLINE,\r\n    needLoginForUrl: '',\r\n    statusErrors: [] as Warnings[],\r\n    statusWarnings: [] as Warnings[],\r\n    statusMessage: 'Loading',\r\n    svnProjects: fileSystems,\r\n    visualizationTypes: new Map() as Map<string, VisualizationPlugin>,\r\n    colorScheme: ColorScheme.DarkMode,\r\n    locale: 'en',\r\n    localFileHandles: [] as any[],\r\n    localURLShortcuts: {} as { [id: string]: FileSystemConfig },\r\n    runFolders: {} as { [root: string]: any[] },\r\n    runFolderCount: 0,\r\n    resizeEvents: 0,\r\n    viewState: initialViewState() as {\r\n      longitude: number\r\n      latitude: number\r\n      bearing: number\r\n      pitch: number\r\n      zoom: number\r\n      center?: number[]\r\n      jump?: boolean\r\n      initial?: boolean\r\n      startup?: boolean\r\n    },\r\n  },\r\n\r\n  mutations: {\r\n    updateRunFolders(\r\n      state,\r\n      value: { number: number; folders: { [root: string]: { path: string }[] } }\r\n    ) {\r\n      state.runFolderCount = value.number\r\n      state.runFolders = value.folders\r\n    },\r\n    requestLogin(state, value: string) {\r\n      state.needLoginForUrl = value\r\n    },\r\n    registerPlugin(state, value: VisualizationPlugin) {\r\n      // console.log('PLUGIN:', value.kebabName)\r\n      state.visualizationTypes.set(value.kebabName, value)\r\n    },\r\n    setBreadCrumbs(state, value: BreadCrumb[]) {\r\n      state.breadcrumbs = value\r\n    },\r\n    setCredentials(state, value: { url: string; username: string; pw: string }) {\r\n      const creds = btoa(`${value.username}:${value.pw}`)\r\n      state.credentials[value.url] = creds\r\n      state.authAttempts++\r\n    },\r\n    setFullScreen(state, value: boolean) {\r\n      state.isFullScreen = value\r\n    },\r\n    setMapStyles(\r\n      state,\r\n      value: { light: string; dark: string; transparentLight: string; transparentDark: string }\r\n    ) {\r\n      state.mapStyles = value\r\n    },\r\n    setMapCamera(\r\n      state,\r\n      value: {\r\n        longitude: number\r\n        latitude: number\r\n        bearing: number\r\n        pitch: number\r\n        zoom: number\r\n        center?: number[]\r\n        jump?: boolean\r\n        initial?: boolean\r\n        startup?: boolean\r\n      }\r\n    ) {\r\n      let honorIt = false\r\n\r\n      // always honor a jump request\r\n      if (value.jump) honorIt = true\r\n      // honor an initial request IFF we are in startup state\r\n      if (value.initial && !state.isInitialViewSet) honorIt = true\r\n      // honor a move request -- must not have initial or startup\r\n      if (!value.initial && !value.startup) honorIt = true\r\n\r\n      if (honorIt) {\r\n        // remove logic, just keep camera settings\r\n        const { jump, startup, initial, ...camera } = value\r\n        state.viewState = camera\r\n        state.isInitialViewSet = true\r\n      } else {\r\n        // console.log('(ignored')\r\n      }\r\n    },\r\n    error(state, value: string) {\r\n      if (\r\n        !state.statusErrors.length ||\r\n        state.statusErrors[state.statusErrors.length - 1].msg !== value\r\n      ) {\r\n        state.statusErrors.push({ msg: value, desc: '' })\r\n        state.isShowingLeftBar = true\r\n      }\r\n    },\r\n    setStatus(state, value: { type: Status; msg: string; desc?: string }) {\r\n      if (!value.desc?.length) {\r\n        value.desc = ''\r\n      }\r\n      const warningObj = {\r\n        msg: value.msg,\r\n        desc: value.desc,\r\n      }\r\n      if (value.type === Status.INFO) {\r\n        state.statusMessage = value.msg\r\n      } else if (value.type === Status.WARNING) {\r\n        if (\r\n          // don't repeat yourself\r\n          !state.statusWarnings.length ||\r\n          state.statusWarnings[state.statusWarnings.length - 1].msg !== value.msg\r\n        ) {\r\n          state.statusWarnings.push(warningObj)\r\n        }\r\n      } else {\r\n        if (\r\n          // don't repeat yourself\r\n          !state.statusErrors.length ||\r\n          state.statusErrors[state.statusErrors.length - 1].msg !== value.msg\r\n        ) {\r\n          state.statusErrors.push(warningObj)\r\n          state.isShowingLeftBar = true\r\n        }\r\n      }\r\n    },\r\n    clearError(state, value: number) {\r\n      if (state.statusErrors.length >= value) {\r\n        state.statusErrors.splice(value, 1) // remove one element\r\n      }\r\n    },\r\n    clearAllErrors(state) {\r\n      state.statusErrors = []\r\n      state.statusWarnings = []\r\n    },\r\n    resize(state) {\r\n      state.resizeEvents += 1\r\n    },\r\n    setTheme(state, value: string) {\r\n      state.colorScheme = value == 'light' ? ColorScheme.LightMode : ColorScheme.DarkMode\r\n\r\n      console.log('NEW COLORS:', state.colorScheme)\r\n\r\n      state.isDarkMode = state.colorScheme === ColorScheme.DarkMode\r\n\r\n      localStorage.setItem('colorscheme', state.colorScheme)\r\n      document.body.style.backgroundColor =\r\n        state.colorScheme === ColorScheme.LightMode ? '#edebe4' : '#2d3133'\r\n    },\r\n    rotateColors(state) {\r\n      state.colorScheme =\r\n        state.colorScheme === ColorScheme.DarkMode ? ColorScheme.LightMode : ColorScheme.DarkMode\r\n\r\n      console.log('NEW COLORS:', state.colorScheme)\r\n\r\n      state.isDarkMode = state.colorScheme === ColorScheme.DarkMode\r\n\r\n      localStorage.setItem('colorscheme', state.colorScheme)\r\n      document.body.style.backgroundColor =\r\n        state.colorScheme === ColorScheme.LightMode ? '#edebe4' : '#2d3133'\r\n    },\r\n    setLocale(state, value: string) {\r\n      state.locale = value.toLocaleLowerCase()\r\n      localStorage.setItem('locale', state.locale)\r\n    },\r\n    addLocalFileSystem(state, value: any) {\r\n      state.localFileHandles.unshift(value)\r\n    },\r\n    setLocalFileSystem(state, value: any) {\r\n      state.localFileHandles = value\r\n    },\r\n    setURLShortcuts(state, shortcuts: { [id: string]: FileSystemConfig }) {\r\n      state.localURLShortcuts = shortcuts\r\n      // do some fancy replacing in case user specifically overwrote things\r\n      const unique = state.svnProjects.filter(root => !(root.slug in shortcuts))\r\n      state.svnProjects = [...Object.values(shortcuts), ...unique]\r\n    },\r\n    removeURLShortcut(state, shortcut: string) {\r\n      delete state.localURLShortcuts[shortcut]\r\n      const trimmed = state.svnProjects.filter(root => root.slug !== shortcut)\r\n      state.svnProjects = trimmed\r\n    },\r\n    setShowLeftBar(state, value: boolean) {\r\n      state.isShowingLeftBar = value\r\n    },\r\n    setFileHandleForPermissionRequest(state, handle: any) {\r\n      state.fileHandleAccessRequests.push(handle)\r\n    },\r\n    clearFileHandlePermissionRequests(state) {\r\n      state.fileHandleAccessRequests = []\r\n    },\r\n    toggleShowLeftBar(state) {\r\n      state.isShowingLeftBar = !state.isShowingLeftBar\r\n    },\r\n    setDashboardWidth(state, value: string) {\r\n      state.dashboardWidth = value\r\n    },\r\n    setFullWidth(state, value: boolean) {\r\n      state.isFullWidth = value\r\n    },\r\n    toggleFullWidth(state) {\r\n      state.isFullWidth = !state.isFullWidth\r\n    },\r\n  },\r\n  actions: {},\r\n  modules: {},\r\n  getters: {\r\n    mapStyle: state => {\r\n      return state.isDarkMode ? state.mapStyles.dark : state.mapStyles.light\r\n    },\r\n  },\r\n})\r\n","const scriptRel = 'modulepreload';const seen = {};const base = '/report-tncs2020-simwrapper/';export const __vitePreload = function preload(baseModule, deps) {\n    // @ts-ignore\n    if (!__VITE_IS_MODERN__ || !deps || deps.length === 0) {\n        return baseModule();\n    }\n    return Promise.all(deps.map((dep) => {\n        // @ts-ignore\n        dep = `${base}${dep}`;\n        // @ts-ignore\n        if (dep in seen)\n            return;\n        // @ts-ignore\n        seen[dep] = true;\n        const isCss = dep.endsWith('.css');\n        const cssSelector = isCss ? '[rel=\"stylesheet\"]' : '';\n        // @ts-ignore check if the file is already preloaded by SSR markup\n        if (document.querySelector(`link[href=\"${dep}\"]${cssSelector}`)) {\n            return;\n        }\n        // @ts-ignore\n        const link = document.createElement('link');\n        // @ts-ignore\n        link.rel = isCss ? 'stylesheet' : scriptRel;\n        if (!isCss) {\n            link.as = 'script';\n            link.crossOrigin = '';\n        }\n        link.href = dep;\n        // @ts-ignore\n        document.head.appendChild(link);\n        if (isCss) {\n            return new Promise((res, rej) => {\n                link.addEventListener('load', res);\n                link.addEventListener('error', rej);\n            });\n        }\n    })).then(() => baseModule());\n}","import Vue from 'vue'\r\nimport VueRouter, { Route, RouteConfig } from 'vue-router'\r\n\r\nimport globalStore from '@/store'\r\n\r\nVue.use(VueRouter)\r\n\r\nconst BASE_URL = import.meta.env.BASE_URL\r\n\r\nconst routes = [\r\n  {\r\n    path: BASE_URL + 'gist/:id',\r\n    component: () => import('@/layout-manager/GistView.vue'),\r\n    props: (route: Route) => ({\r\n      id: route.params.id,\r\n    }),\r\n  },\r\n  {\r\n    path: BASE_URL + '*',\r\n    component: () => import('@/layout-manager/LayoutManager.vue'),\r\n  },\r\n  {\r\n    // catch-all back to home page\r\n    path: '*',\r\n    redirect: BASE_URL,\r\n  },\r\n]\r\n\r\n// // individual viz plugins all go into /v/* subpaths\r\nfunction vizPlugins(): any[] {\r\n  const plugins = []\r\n  for (const plugin of globalStore.state.visualizationTypes.values()) {\r\n    plugins.push({\r\n      path: BASE_URL + 'v/' + plugin.kebabName + '/:slug/*',\r\n      name: plugin.kebabName,\r\n      component: plugin.component,\r\n      props: (route: Route) => {\r\n        const match = route.params.pathMatch\r\n        const subfolder = match.substring(0, match.lastIndexOf('/'))\r\n        const yamlConfig = match.substring(match.lastIndexOf('/') + 1)\r\n        return {\r\n          root: route.params.slug,\r\n          subfolder,\r\n          yamlConfig,\r\n          thumbnail: false,\r\n        }\r\n      },\r\n    })\r\n  }\r\n\r\n  return plugins\r\n}\r\n\r\nconst router = new VueRouter({\r\n  mode: 'history',\r\n  base: '/',\r\n  routes,\r\n  // routes: vizPlugins().concat(routes),\r\n  // native-like back/forward and top-of-page routing\r\n  scrollBehavior(to, from, savedPosition) {\r\n    if (savedPosition) {\r\n      return savedPosition\r\n    } else {\r\n      return { x: 0, y: 0 }\r\n    }\r\n  },\r\n})\r\n\r\n// router.beforeEach((to, from, next) => {\r\n//   console.log(to.path)\r\n//   next()\r\n// })\r\n\r\nexport default router\r\n","<template lang=\"pug\">\r\n.sidebar-page\r\n    section.sidebar-layout\r\n      b-sidebar(\r\n        type=\"is-light\"\r\n        :fullheight=\"fullheight\"\r\n        :fullwidth=\"fullwidth\"\r\n        :overlay=\"overlay\"\r\n        :right=\"right\"\r\n        :open.sync=\"open\")\r\n\r\n        .all-stuff\r\n          .block\r\n            a(href=\"/\")\r\n              img.vsp-logo(\r\n                src=\"@/assets/images/logos/vsp-logo-300dpi.png\"\r\n                alt=\"TU Berlin VSP Department\")\r\n\r\n          b-menu-list(label=\"Login Required\")\r\n\r\n          p.my-label {{ whichLogin }}: access to this site requires a login.\r\n\r\n          b-menu-list(label=\"Username\")\r\n          b-input(v-model=\"username\" placeholder=\"VSP username\" maxlength=30)\r\n\r\n          b-menu-list(label=\"Password\")\r\n          b-input(type=\"password\"\r\n            v-model=\"password\"\r\n            password-reveal)\r\n\r\n          b-button.my-space.is-primary(\r\n            @click=\"clickedLogin\"\r\n            :disabled=\"!username || !password\") Login\r\n\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue'\r\nimport globalStore from '@/store'\r\n\r\nexport default defineComponent({\r\n  name: 'LoginPanel',\r\n  data: () => {\r\n    const projects = globalStore.state.svnProjects\r\n\r\n    return {\r\n      globalState: globalStore.state,\r\n      projects,\r\n      username: '',\r\n      password: '',\r\n      expandOnHover: true,\r\n      fullheight: true,\r\n      fullwidth: false,\r\n      mobile: 'reduce',\r\n      reduce: false,\r\n      overlay: true,\r\n      right: false,\r\n      theme: 'is-light',\r\n      subfolders: [{ name: 'hello' }],\r\n      open: false,\r\n    }\r\n  },\r\n  watch: {\r\n    'globalState.needLoginForUrl'() {\r\n      this.open = this.globalState.needLoginForUrl !== ''\r\n    },\r\n\r\n    open() {\r\n      // clear the last login attempt on panel close\r\n      if (!this.open) globalStore.commit('requestLogin', '')\r\n    },\r\n  },\r\n  computed: {\r\n    whichLogin(): string {\r\n      try {\r\n        const project = this.globalState.svnProjects.filter(\r\n          (p: any) => p.url === this.globalState.needLoginForUrl\r\n        )[0]\r\n        return project.name\r\n      } catch (e) {\r\n        // weird\r\n      }\r\n      return 'this site'\r\n    },\r\n  },\r\n  methods: {\r\n    clickedLogin() {\r\n      // username/pw must never be stored in cookies or local storage.\r\n      // Just in memory.\r\n      globalStore.commit('setCredentials', {\r\n        url: this.globalState.needLoginForUrl,\r\n        username: this.username,\r\n        pw: this.password,\r\n      })\r\n\r\n      this.globalState.needLoginForUrl = ''\r\n    },\r\n  },\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/styles.scss';\r\n\r\n.boop {\r\n  padding-top: 1rem;\r\n}\r\n\r\n.my-space {\r\n  width: 100%;\r\n  margin-top: 3rem;\r\n}\r\n\r\n.my-label {\r\n  font-size: 0.9rem;\r\n  color: #666;\r\n  padding-bottom: 2rem;\r\n}\r\n\r\n.sidebar-content {\r\n  height: 100%;\r\n}\r\n\r\n.sidebar-page {\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 100%;\r\n  .sidebar-layout {\r\n    display: flex;\r\n    flex-direction: row;\r\n    min-height: 100%;\r\n  }\r\n}\r\n@media screen and (max-width: 1023px) {\r\n  .b-sidebar {\r\n    .sidebar-content {\r\n      &.is-mini-mobile {\r\n        &:not(.is-mini-expand),\r\n        &.is-mini-expand:not(:hover) {\r\n          .menu-list {\r\n            li {\r\n              a {\r\n                span:nth-child(2) {\r\n                  display: none;\r\n                }\r\n              }\r\n              ul {\r\n                padding-left: 0;\r\n                li {\r\n                  a {\r\n                    display: inline-block;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n          .menu-label:not(:last-child) {\r\n            margin-bottom: 0;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n@media screen and (min-width: 1024px) {\r\n  .b-sidebar {\r\n    .sidebar-content {\r\n      &.is-mini {\r\n        &:not(.is-mini-expand),\r\n        &.is-mini-expand:not(:hover) {\r\n          .menu-list {\r\n            li {\r\n              a {\r\n                span:nth-child(2) {\r\n                  display: none;\r\n                }\r\n              }\r\n              ul {\r\n                padding-left: 0;\r\n                li {\r\n                  a {\r\n                    display: inline-block;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n          .menu-label:not(:last-child) {\r\n            margin-bottom: 0;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","\r\n.sidebar-page\r\n    section.sidebar-layout\r\n      b-sidebar(\r\n        type=\"is-light\"\r\n        :fullheight=\"fullheight\"\r\n        :fullwidth=\"fullwidth\"\r\n        :overlay=\"overlay\"\r\n        :right=\"right\"\r\n        :open.sync=\"open\")\r\n\r\n        .all-stuff\r\n          .block\r\n            a(href=\"/\")\r\n              img.vsp-logo(\r\n                src=\"@/assets/images/logos/vsp-logo-300dpi.png\"\r\n                alt=\"TU Berlin VSP Department\")\r\n\r\n          b-menu-list(label=\"Login Required\")\r\n\r\n          p.my-label {{ whichLogin }}: access to this site requires a login.\r\n\r\n          b-menu-list(label=\"Username\")\r\n          b-input(v-model=\"username\" placeholder=\"VSP username\" maxlength=30)\r\n\r\n          b-menu-list(label=\"Password\")\r\n          b-input(type=\"password\"\r\n            v-model=\"password\"\r\n            password-reveal)\r\n\r\n          b-button.my-space.is-primary(\r\n            @click=\"clickedLogin\"\r\n            :disabled=\"!username || !password\") Login\r\n\r\n","export default \"__VITE_ASSET__1f4c4121__\"","<template lang=\"pug\">\r\n#main-app(:class=\"{'full-page-app' : true, 'dark-mode': isDarkMode}\" )\r\n\r\n  .center-area\r\n    login-panel.login-panel\r\n    router-view.main-content\r\n    p.splash-label(v-if=\"showSplash\") • Loading SimWrapper •\r\n\r\n  .grant-permission-area(v-if=\"accessRequests.length\")\r\n    p Grant access to local files to view this content:\r\n    button.button.is-small(@click=\"grantAccess\") Grant access\r\n\r\n  //.message-zone(v-if=\"state.statusErrors.length\")\r\n    .message-error(v-for=\"err,i in state.statusErrors\")\r\n      p: i.fa.fa-icon.fa-exclamation-triangle(style=\"color: orange;\")\r\n      p(v-html=\"err\")\r\n    button.button.is-small(@click=\"removeAllErrors()\") CLEAR\r\n\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nconst i18n = {\r\n  messages: {\r\n    en: {\r\n      light: 'light',\r\n      dark: 'dark',\r\n      share: 'share',\r\n    },\r\n    de: {\r\n      light: 'hell',\r\n      dark: 'dark',\r\n      share: 'teilen',\r\n    },\r\n  },\r\n}\r\n\r\nimport { defineComponent } from 'vue'\r\nimport maplibregl from 'maplibre-gl'\r\nimport { get, set, clear } from 'idb-keyval'\r\n\r\nimport globalStore from '@/store'\r\nimport fileSystems, { addLocalFilesystem } from '@/fileSystemConfig'\r\n\r\nimport { ColorScheme, MAPBOX_TOKEN, MAP_STYLES_OFFLINE } from '@/Globals'\r\nimport LoginPanel from '@/components/LoginPanel.vue'\r\n\r\n// MAPBOX TOKEN\r\n// this is a required workaround to get the mapbox token assigned in TypeScript\r\n// see https://stackoverflow.com/questions/44332290/mapbox-gl-typing-wont-allow-accesstoken-assignment\r\nconst writableMapBox: any = maplibregl\r\nwritableMapBox.accessToken = MAPBOX_TOKEN\r\n\r\nlet doThisOnceForLocalFiles = true\r\n\r\nexport default defineComponent({\r\n  name: 'SimWrapper',\r\n  i18n,\r\n  components: { LoginPanel },\r\n  data: () => {\r\n    return {\r\n      state: globalStore.state,\r\n      showSplash: true,\r\n      splasher: {} as any,\r\n    }\r\n  },\r\n  computed: {\r\n    accessRequests(): any[] {\r\n      return globalStore.state.fileHandleAccessRequests\r\n    },\r\n    topNavLinks(): any[] {\r\n      // {name, description, need_password, svn, thumbnail, url }\r\n      // a '/' will be prepended\r\n      const home: any[] = [{ name: 'scout', url: '' }]\r\n      const topLinks = home.concat(this.state.svnProjects)\r\n\r\n      return topLinks\r\n    },\r\n    isDarkMode(): boolean {\r\n      return this.state.isDarkMode\r\n    },\r\n  },\r\n  methods: {\r\n    toggleUIPanels(event: KeyboardEvent) {\r\n      // shift-alt-Q: left side QuickView panel\r\n      if (event.altKey && event.shiftKey && event.keyCode === 81) {\r\n        console.log('QUICKVIEW')\r\n        this.$store.commit('toggleShowLeftBar')\r\n        this.$store.commit('resize')\r\n      }\r\n      // shift-alt-W: wide screen mode\r\n      if (event.altKey && event.shiftKey && event.keyCode === 87) {\r\n        console.log('WIIIDE')\r\n        this.$store.commit('toggleFullWidth')\r\n        this.$store.commit('resize')\r\n      }\r\n      return\r\n    },\r\n\r\n    // ------ Find Chrome Local File System roots ----\r\n    async setupLocalFiles() {\r\n      if (globalStore.state.localFileHandles.length) return\r\n\r\n      const lfsh = (await get('fs')) as { key: string; handle: any }[]\r\n      if (lfsh && lfsh.length) {\r\n        for (const entry of lfsh) {\r\n          addLocalFilesystem(entry.handle, entry.key)\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Set Mapbox styles to be blank if we cannot reach the internet\r\n     */\r\n    setOnlineOrOfflineMode() {\r\n      const url = 'https://raw.githubusercontent.com/simwrapper/simwrapper/master/package.json'\r\n      fetch(url)\r\n        .then(response => {\r\n          console.log('online!!')\r\n        })\r\n        .catch(error => {\r\n          console.log('offline!')\r\n          this.$store.commit('setMapStyles', MAP_STYLES_OFFLINE)\r\n        })\r\n    },\r\n\r\n    removeAllErrors() {\r\n      this.$store.commit('clearAllErrors')\r\n    },\r\n\r\n    toggleLocale() {\r\n      const newLocale = this.state.locale === 'en' ? 'de' : 'en'\r\n      this.$store.commit('setLocale', newLocale)\r\n      this.$root.$i18n.locale = newLocale\r\n    },\r\n\r\n    toggleTheme() {\r\n      this.$store.commit('rotateColors')\r\n    },\r\n\r\n    // @Watch('state.isFullScreen') toggleFullScreen(isFullPage: boolean) {\r\n    toggleFullScreen(isFullPage: boolean) {\r\n      if (isFullPage) {\r\n        document.body.classList.add('full-screen-page')\r\n        document.documentElement.style.overflowY = 'auto'\r\n      } else {\r\n        document.body.classList.remove('full-screen-page')\r\n        document.documentElement.style.overflowY = null as any\r\n      }\r\n    },\r\n\r\n    async grantAccess() {\r\n      const { handle } = this.$store.state.fileHandleAccessRequests[0]\r\n      const status = await handle.requestPermission({ mode: 'read' })\r\n      console.log(status)\r\n      for (const request of this.$store.state.fileHandleAccessRequests) {\r\n        request.resolve(status == 'granted')\r\n      }\r\n      this.$store.commit('clearFileHandlePermissionRequests')\r\n    },\r\n  },\r\n  async mounted() {\r\n    // theme\r\n    const theme = localStorage.getItem('colorscheme')\r\n      ? localStorage.getItem('colorscheme')\r\n      : (window.matchMedia && window.matchMedia('(prefers-color-scheme:dark)')).matches\r\n      ? ColorScheme.DarkMode\r\n      : ColorScheme.LightMode\r\n\r\n    if (theme === ColorScheme.LightMode) this.$store.commit('rotateColors')\r\n    document.body.style.backgroundColor = theme === ColorScheme.LightMode ? '#edebe4' : '#2d3133'\r\n\r\n    this.toggleFullScreen(true)\r\n    this.setOnlineOrOfflineMode()\r\n\r\n    // local files\r\n    if (doThisOnceForLocalFiles) await this.setupLocalFiles()\r\n\r\n    document.addEventListener('keydown', this.toggleUIPanels)\r\n\r\n    // remove the splasher after a bit\r\n    this.splasher = setTimeout(() => {\r\n      this.showSplash = false\r\n    }, 5000)\r\n  },\r\n  beforeDestroy() {\r\n    document.removeEventListener('keydown', this.toggleUIPanels)\r\n    window.clearTimeout(this.splasher)\r\n  },\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '~/the-new-css-reset/css/reset.css';\r\n@import '~/lil-gui/dist/lil-gui.min.css';\r\n@import '~/maplibre-gl/dist/maplibre-gl.css';\r\n@import '~/vue-slider-component/theme/default.css';\r\n@import '~/buefy/dist/buefy.css';\r\n\r\n@import '@/styles.scss';\r\n\r\nhtml {\r\n  box-sizing: border-box;\r\n}\r\n\r\n*,\r\n*::before,\r\n*::after {\r\n  box-sizing: inherit;\r\n}\r\n\r\nbody,\r\nhtml {\r\n  font-family: $mainFont;\r\n  // margin: 0px 0px;\r\n  // padding: 0px 0px;\r\n  height: 100%;\r\n  // border: 0px;\r\n  overscroll-behavior: contain;\r\n}\r\n\r\nh1,\r\nh2,\r\nh3,\r\nh4,\r\nh5,\r\nh6 {\r\n  // margin: 0 0;\r\n  // padding: 0 0;\r\n  font-family: $fancyFont;\r\n}\r\n\r\nb {\r\n  font-weight: bold;\r\n}\r\n\r\n// end null --------------------------------------\r\n\r\nhtml {\r\n  overflow-y: auto;\r\n  color: var(--text);\r\n}\r\n\r\n:root {\r\n  font-size: 14px;\r\n}\r\n\r\ncanvas {\r\n  display: block;\r\n}\r\n\r\n.top-bar {\r\n  width: 100%;\r\n  padding: 0 3rem;\r\n  margin: 0 auto;\r\n  max-width: $sizeVessel;\r\n  transition: padding 0.2s ease-in-out, max-width 0.3s ease-in-out;\r\n  // box-shadow: 0px 6px 10px #00000048;\r\n  z-index: 5;\r\n}\r\n\r\n.top-bar.full-page-app {\r\n  padding: 0 1rem;\r\n  max-width: unset;\r\n}\r\n\r\n.breadcrumb-container {\r\n  background-color: #3e455c;\r\n  width: 100%;\r\n  padding: 0.25rem 0;\r\n}\r\n\r\n.breadcrumb {\r\n  font-size: 0.9rem;\r\n  padding: 0 3rem;\r\n  margin: 0 auto;\r\n  max-width: $sizeVessel;\r\n  transition: padding 0.2s ease-in-out;\r\n\r\n  ul {\r\n    max-width: $sizeVessel;\r\n    display: flex;\r\n    flex-direction: row;\r\n  }\r\n\r\n  a {\r\n    color: #ccc;\r\n    padding: 0 1rem;\r\n  }\r\n\r\n  a:hover {\r\n    cursor: pointer;\r\n    color: white;\r\n  }\r\n\r\n  a.no-breadcrumb-link {\r\n    cursor: default;\r\n    color: #ccc;\r\n  }\r\n}\r\n\r\n.top-link {\r\n  font-size: 0.9rem;\r\n  font-weight: bold;\r\n  margin-left: -0.75rem;\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n\r\n.top-link p {\r\n  cursor: pointer;\r\n  padding: 1rem 0.75rem;\r\n}\r\n\r\n.selected p {\r\n  background-color: #3e455c;\r\n}\r\n\r\n.bury-me {\r\n  z-index: -5;\r\n}\r\n\r\nh2 {\r\n  font-size: 2rem;\r\n  font-weight: bold;\r\n}\r\n\r\nh3 {\r\n  font-size: 1.5rem;\r\n  font-weight: bold;\r\n}\r\n\r\nh4 {\r\n  font-size: 1.15rem;\r\n}\r\n\r\n#main-app {\r\n  display: grid;\r\n  color: var(--text);\r\n  background-color: var(--bgPanel2);\r\n  grid-template-columns: 1fr;\r\n  grid-template-rows: auto auto 1fr;\r\n  margin: 0 0;\r\n  padding: 0 0;\r\n}\r\n\r\na {\r\n  color: var(--link);\r\n}\r\n\r\n.splash-readme a {\r\n  color: #2f71ff;\r\n}\r\n\r\na:hover {\r\n  color: var(--linkHover);\r\n}\r\n\r\n.full-page-app {\r\n  height: 100%;\r\n}\r\n\r\n.login-panel {\r\n  z-index: 500;\r\n}\r\n\r\n.app-nav {\r\n  padding: 0 1rem;\r\n  grid-column: 1 / 2;\r\n  grid-row: 1 / 2;\r\n  z-index: 5;\r\n  display: flex;\r\n  flex-direction: column;\r\n  // border-bottom: 1px solid var(--bgCream3);\r\n}\r\n\r\n.app-nav a.router-link-exact-active {\r\n  font-weight: bold;\r\n  // color: #00ffff;\r\n}\r\n\r\n.main-content {\r\n  flex: 1;\r\n}\r\n\r\n.space {\r\n  margin: 0 1rem;\r\n}\r\n\r\n.vue-slider-rail {\r\n  background-color: green;\r\n}\r\n\r\n.center-area {\r\n  grid-column: 1 / 2;\r\n  grid-row: 2 / 4;\r\n  z-index: 0;\r\n  display: flex;\r\n  flex-direction: row;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\np.splash-label {\r\n  text-justify: right;\r\n  margin: auto auto 3rem 3rem;\r\n  font-size: 1.5rem;\r\n  // font-weight: bold;\r\n  color: #888;\r\n}\r\n\r\n.nav-sidebar {\r\n  z-index: 0;\r\n}\r\n\r\n.footer {\r\n  margin-top: 2rem;\r\n  grid-column: 1 / 2;\r\n  grid-row: 3 / 4;\r\n  text-align: center;\r\n  font-size: 0.8rem;\r\n  padding: 5rem 1rem;\r\n}\r\n\r\n#main-app .footer {\r\n  color: var(--text);\r\n  background-color: $steelGray; // #18181b;\r\n  text-align: center;\r\n  padding: 2rem 0.5rem 3rem 0.5rem;\r\n}\r\n\r\n.footer a {\r\n  color: $matsimBlue;\r\n}\r\n\r\n.footer img {\r\n  margin: 1rem auto;\r\n  padding: 0 1rem;\r\n}\r\n\r\n.footer p {\r\n  color: #eee;\r\n}\r\n\r\n.medium-zoom-overlay {\r\n  z-index: 100;\r\n}\r\n\r\n.medium-zoom-overlay ~ img {\r\n  z-index: 101;\r\n}\r\n\r\n.markdown {\r\n  p {\r\n    margin-top: 0.5rem;\r\n  }\r\n  h1,\r\n  h2,\r\n  h3,\r\n  h4,\r\n  h5,\r\n  h6 {\r\n    font-weight: normal;\r\n  }\r\n\r\n  ul {\r\n    list-style: disc;\r\n    margin-top: 0.5rem;\r\n    padding-left: 1.5rem;\r\n  }\r\n\r\n  table {\r\n    margin: 1rem 0rem;\r\n    color: var(--text);\r\n  }\r\n\r\n  th {\r\n    color: var(--text);\r\n    border-bottom: 1px solid #88888888;\r\n    padding-bottom: 0.25rem;\r\n  }\r\n  tr:nth-child(even) {\r\n    background-color: #88888822;\r\n  }\r\n\r\n  tr.displaynone ~ tr {\r\n    background-color: transparent;\r\n  }\r\n\r\n  td {\r\n    padding-right: 1rem;\r\n  }\r\n}\r\n\r\n.mapboxgl-popup-content {\r\n  width: min-content !important;\r\n}\r\n\r\n.top-action-button {\r\n  -moz-user-select: none;\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n  font-size: 0.65rem;\r\n  margin: auto 0 auto 1.5rem;\r\n  padding: 2px 0px;\r\n  width: 1.5rem;\r\n  text-align: center;\r\n  // color: var(--bgLink);\r\n}\r\n\r\n.top-action-button:hover {\r\n  cursor: pointer;\r\n  // background-color: #222255;\r\n  color: var(--linkHover);\r\n}\r\n\r\n.top-action-button:active {\r\n  border: 1px solid #aaa;\r\n  transform: translateY(1px);\r\n}\r\n\r\n.message-zone {\r\n  position: sticky;\r\n  bottom: 0px;\r\n  z-index: 5;\r\n  grid-column: 1 / 2;\r\n  grid-row: 1 / 4;\r\n  box-shadow: 0px 2px 10px #22222266;\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: auto auto 0 0;\r\n  background-color: var(--bgPanel);\r\n  border-top: 2px solid #ba2b00;\r\n  border-right: 2px solid #ba2b00;\r\n}\r\n\r\n.message-error {\r\n  padding: 0.5rem 0.5rem;\r\n  background-color: #fff6c3;\r\n  display: flex;\r\n  flex-direction: row;\r\n  line-height: 1.2rem;\r\n\r\n  p {\r\n    margin: auto 0.5rem auto 0;\r\n    font-weight: normal;\r\n    padding: 0 0;\r\n    color: black;\r\n  }\r\n  button {\r\n    margin: auto 0;\r\n  }\r\n}\r\n\r\n.grant-permission-area {\r\n  position: absolute;\r\n  width: 100%;\r\n  padding: 1rem;\r\n  background-color: #ffd15e;\r\n  color: black;\r\n  display: flex;\r\n  // font-weight: bold;\r\n\r\n  button {\r\n    margin-left: auto;\r\n  }\r\n}\r\n\r\n// MapLibre Logo\r\n.mapboxgl-ctrl-bottom-left {\r\n  filter: var(--opacityLogo);\r\n  color: var(--bgBold);\r\n  bottom: -5px;\r\n  left: unset;\r\n  right: 36px;\r\n  z-index: 0;\r\n}\r\n\r\n// Mapbox Improve this Map attribution\r\n.mapboxgl-ctrl-bottom-right {\r\n  filter: var(--opacityAttribution);\r\n  right: 0rem;\r\n  bottom: 0rem;\r\n  left: unset;\r\n  z-index: 0;\r\n}\r\n\r\n.mapboxgl-popup-content {\r\n  background-color: var(--bgCream4);\r\n}\r\n\r\n.mapboxgl-popup-anchor-top .mapboxgl-popup-tip,\r\n.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip,\r\n.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip {\r\n  border-bottom-color: var(--bgCream4);\r\n}\r\n.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip,\r\n.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip,\r\n.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip {\r\n  border-top-color: var(--bgCream4);\r\n}\r\n.mapboxgl-popup-anchor-left .mapboxgl-popup-tip {\r\n  border-right-color: var(--bgCream4);\r\n}\r\n.mapboxgl-popup-anchor-right .mapboxgl-popup-tip {\r\n  border-left-color: var(--bgCream4);\r\n}\r\n.mapboxgl-ctrl.mapboxgl-ctrl-attrib {\r\n  background-color: var(--bgCream);\r\n  a {\r\n    color: var(--textPale);\r\n  }\r\n}\r\n\r\n// SCROLLBARS\r\n/* width */\r\n::-webkit-scrollbar {\r\n  width: 6px;\r\n}\r\n\r\n/* Track */\r\n::-webkit-scrollbar-track {\r\n  background: #00000000;\r\n}\r\n\r\n/* Handle */\r\n::-webkit-scrollbar-thumb {\r\n  background: var(--bgScrollbar);\r\n}\r\n\r\n/* Handle on hover */\r\n::-webkit-scrollbar-thumb:hover {\r\n  background: #888888aa;\r\n}\r\n\r\n.deck-tooltip {\r\n  position: 'static';\r\n}\r\n\r\n// sankey text colors don't break thru, sigh\r\n.node-title {\r\n  fill: var(--text);\r\n}\r\n\r\n// tweak lil-gui configurator panels\r\n.lil-gui {\r\n  --background-color: var(--bgPanel); // #00000000;\r\n  --title-background-color: var(--bgPanel2);\r\n  --widget-color: var(--bgPanel2); //white; //  #44447780;\r\n  --font-family: $mainFont;\r\n  --text-color: var(--text); // unset; // #000000aa;\r\n  font-size: 12px;\r\n}\r\n\r\n.lil-gui.root > .title {\r\n  background-color: var(--bgPanel2); // $appTag; // #564c9d;\r\n  margin-bottom: 0;\r\n  font-size: 13px;\r\n  font-weight: bold;\r\n  color: var(--text);\r\n}\r\n\r\n// these are here because bulma/buefy style the .number class\r\n.lil-gui * {\r\n  font-size: unset;\r\n  border-radius: unset;\r\n  background-color: unset;\r\n  text-align: unset;\r\n  height: unset;\r\n}\r\n\r\n.flex-row {\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n\r\n.flex1 {\r\n  flex: 1;\r\n}\r\n.flex2 {\r\n  flex: 2;\r\n}\r\n.flex3 {\r\n  flex: 3;\r\n}\r\n.flex4 {\r\n  flex: 4;\r\n}\r\n.flex5 {\r\n  flex: 5;\r\n}\r\n\r\n.center {\r\n  text-align: center;\r\n}\r\n.right {\r\n  text-align: right;\r\n}\r\n\r\n.b-input-tight input {\r\n  padding: 0 0.25rem;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.vgt-table {\r\n  overflow-y: auto;\r\n  height: min-content;\r\n}\r\n.vgt-table th {\r\n  position: sticky;\r\n  top: 0;\r\n}\r\n\r\n@media only screen and (max-width: 640px) {\r\n  .top-bar {\r\n    padding-left: 1rem;\r\n    padding-right: 1rem;\r\n  }\r\n\r\n  .breadcrumbs {\r\n    padding-left: 1rem;\r\n    padding-right: 1rem;\r\n  }\r\n\r\n  .footer {\r\n    font-size: 0.7rem;\r\n  }\r\n}\r\n</style>\r\n","\r\n#main-app(:class=\"{'full-page-app' : true, 'dark-mode': isDarkMode}\" )\r\n\r\n  .center-area\r\n    login-panel.login-panel\r\n    router-view.main-content\r\n    p.splash-label(v-if=\"showSplash\") • Loading SimWrapper •\r\n\r\n  .grant-permission-area(v-if=\"accessRequests.length\")\r\n    p Grant access to local files to view this content:\r\n    button.button.is-small(@click=\"grantAccess\") Grant access\r\n\r\n  //.message-zone(v-if=\"state.statusErrors.length\")\r\n    .message-error(v-for=\"err,i in state.statusErrors\")\r\n      p: i.fa.fa-icon.fa-exclamation-triangle(style=\"color: orange;\")\r\n      p(v-html=\"err\")\r\n    button.button.is-small(@click=\"removeAllErrors()\") CLEAR\r\n\r\n","import Vue from 'vue'\r\nimport VueI18n from 'vue-i18n'\r\nimport Buefy from 'buefy'\r\n\r\n// order of these is important:\r\nimport locale from '@/localeSettings'\r\nimport store from '@/store'\r\nimport router from '@/router'\r\nimport App from '@/App.vue'\r\n\r\nstore.commit('setLocale', locale)\r\n\r\nVue.use(VueI18n)\r\n\r\nimport { VuePlugin } from 'vuera'\r\nVue.use(VuePlugin)\r\n\r\nVue.use(Buefy, {\r\n  defaultIconPack: 'mdi',\r\n  defaultInputHasCounter: false,\r\n})\r\n\r\nVue.config.productionTip = false\r\n\r\nconst i18n = new VueI18n({\r\n  locale,\r\n  fallbackLocale: 'en',\r\n})\r\n\r\nnew Vue({\r\n  i18n,\r\n  router,\r\n  store,\r\n  render: h => h(App),\r\n}).$mount('#app')\r\n"],"names":["relList","document","createElement","supports","link","querySelectorAll","processPreload","MutationObserver","mutations","mutation","type","node","addedNodes","tagName","rel","observe","childList","subtree","ep","fetchOpts","script","integrity","referrerpolicy","referrerPolicy","crossorigin","credentials","getFetchOpts","fetch","href","p","locale","localStorage","getItem","navigator","language","userLanguage","startsWith","DEFAULT_PROJECTION","MAP_STYLES_OFFLINE","light","version","layers","sources","dark","transparentLight","transparentDark","BG_COLOR_DASHBOARD","MAPBOX_TOKEN","Status","Status2","DataType","DataType2","UI_FONT","ColorScheme","ColorScheme2","Health","Health2","LegendItemType","LegendItemType2","REACT_VIEW_HANDLES","loc","window","location","webLiveHostname","hostname","websiteLiveHost","protocol","addLocalFilesystem","handle","key","slug","Object","keys","globalStore","state","localFileHandles","length","system","name","description","baseURL","fileSystems","unshift","commit","set","hidden","origin","thumbnail","skipList","description_de","port","push","storedShortcuts","shortcuts","JSON","parse","unique","filter","root","values","e","console","error","fileSystems$1","Vue","use","Vuex","Store","app","debug","authAttempts","breadcrumbs","fake","dashboardWidth","isFullScreen","isFullWidth","isShowingLeftBar","isDarkMode","isInitialViewSet","fileHandleAccessRequests","mapStyles","needLoginForUrl","statusErrors","statusWarnings","statusMessage","svnProjects","visualizationTypes","Map","colorScheme","DarkMode","localURLShortcuts","runFolders","runFolderCount","resizeEvents","viewState","startup","longitude","latitude","zoom","pitch","bearing","maxZoom","updateRunFolders","value","number","folders","requestLogin","registerPlugin","kebabName","setBreadCrumbs","setCredentials","creds","btoa","username","pw","url","setFullScreen","setMapStyles","setMapCamera","honorIt","jump","initial","_a","camera","__objRest","msg","desc","setStatus","warningObj","INFO","WARNING","clearError","splice","clearAllErrors","resize","setTheme","LightMode","log","setItem","body","style","backgroundColor","rotateColors","setLocale","toLocaleLowerCase","addLocalFileSystem","setLocalFileSystem","setURLShortcuts","removeURLShortcut","shortcut","trimmed","setShowLeftBar","setFileHandleForPermissionRequest","clearFileHandlePermissionRequests","toggleShowLeftBar","setDashboardWidth","setFullWidth","toggleFullWidth","actions","modules","getters","mapStyle","seen","__vitePreload","baseModule","deps","Promise","all","map","dep","isCss","endsWith","cssSelector","querySelector","as","crossOrigin","head","appendChild","res","rej","addEventListener","then","VueRouter","BASE_URL","router","mode","base","routes","path","component","import","props","route","id","params","redirect","scrollBehavior","to","from","savedPosition","x","y","__vue2_script$1","defineComponent","data","projects","globalState","password","expandOnHover","fullheight","fullwidth","mobile","reduce","overlay","right","theme","subfolders","open","watch","this","computed","whichLogin","p2","methods","clickedLogin","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","$event","src","alt","label","_v","_s","placeholder","maxlength","model","callback","$$v","expression","disabled","click","maplibregl","accessToken","__vue2_script","i18n","messages","en","share","de","components","LoginPanel","showSplash","splasher","accessRequests","topNavLinks","concat","toggleUIPanels","event","altKey","shiftKey","keyCode","$store","setupLocalFiles","lfsh","get","entry","setOnlineOrOfflineMode","response","catch","removeAllErrors","toggleLocale","newLocale","$root","$i18n","toggleTheme","toggleFullScreen","isFullPage","classList","add","documentElement","overflowY","remove","grantAccess","status","requestPermission","request","resolve","mounted","matchMedia","matches","setTimeout","beforeDestroy","removeEventListener","clearTimeout","class","_e","store","VueI18n","VuePlugin","Buefy","defaultIconPack","defaultInputHasCounter","config","productionTip","fallbackLocale","render","h","App","$mount"],"mappings":"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"}